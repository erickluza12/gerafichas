<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>GeraFichas – FUTRPG</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<h1>GeraFichas – FUTRPG</h1>

<!-- wrapper da ficha para exportar em PDF -->
<div id="ficha">

<!-- ========================= -->
<!-- CABEÇALHO DA FICHA -->
<!-- ========================= -->
<section id="cabecalho-ficha">
    <div class="perfil">

        <!-- FOTO -->
        <div class="foto" aria-label="Foto do jogador">
            <img id="preview-foto" alt="" aria-hidden="false">
            <!-- arquivo escondido; label estilizado atua como botão em forma de quadrado com '+' -->
            <input type="file" id="upload-foto" accept="image/*" aria-label="Enviar foto do jogador" style="display:none">
            <label for="upload-foto" class="upload-box" title="Adicionar/Alterar foto" role="button" aria-hidden="false" tabindex="0">
                <!-- camera SVG icon (inline for crisp rendering) -->
                <svg class="upload-icon" width="22" height="22" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false">
                  <path d="M4 7H6L7 5H17L18 7H20C21.1046 7 22 7.89543 22 9V19C22 20.1046 21.1046 21 20 21H4C2.89543 21 2 20.1046 2 19V9C2 7.89543 2.89543 7 4 7Z" stroke="#07100a" stroke-width="1" stroke-linecap="round" stroke-linejoin="round"/>
                  <circle cx="12" cy="13" r="3" stroke="#07100a" stroke-width="1" stroke-linecap="round" stroke-linejoin="round"/>
                  <path d="M16 11.5H16.01" stroke="#07100a" stroke-width="1" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
            </label>
        </div>

        <!-- INFO PRINCIPAL -->
        <div class="info-principal">

            <!-- LIGA (SELECT CUSTOM) -->
            <label>Liga</label>

            <!-- select nativo necessário para sincronização com script.js (escondido) -->
            <select id="liga-select" aria-label="Liga (select oculto)" style="display:none">
                <option value="">Selecione</option>
            </select>

            <div class="custom-select" id="liga-custom">
                <div class="selected" role="button" aria-label="Liga selecionada">
                    <span>Selecione a liga</span>
                </div>
                <div class="options"></div>
            </div>

            <br>

            <!-- TIME (SELECT CUSTOM) -->
            <label>Time</label>

            <!-- select nativo necessário para sincronização com script.js (escondido) -->
            <select id="time-select" style="display:none">
                <option value="">Selecione</option>
            </select>

            <div class="custom-select disabled" id="time-custom">
                <div class="selected" role="button" aria-label="Time selecionado">
                    <span>Selecione a liga primeiro</span>
                </div>
                <div class="options"></div>
            </div>

        </div>
    </div>
</section>

<hr>

<!-- ========================= -->
<!-- IDENTIDADE -->
<!-- ========================= -->
<section id="identidade">
    <h2>Identidade do Jogador</h2>

    <label>
        Nome:
        <input type="text" id="nome">
    </label>

    <br><br>

    <label>
        Posição:
        <select id="posicao">
            <option value="">Selecione</option>
            <option>GOL</option>
            <option>ZAG</option>
            <option>LE</option>
            <option>LD</option>
            <option>VOL</option>
            <option>MD</option>
            <option>ME</option>
            <option>MC</option>
            <option>MEI</option>
            <option>PD</option>
            <option>PE</option>
            <option>SA</option>
            <option>ATA</option>
        </select>
    </label>

    <br><br>

    <label>
        Idade:
        <input type="number" id="idade" min="15">
    </label>

    <br><br>

    <label>
        Altura (m):
        <input type="number" id="altura" step="0.01">
    </label>

    <br><br>

    <label>
        Peso (kg):
        <input type="number" id="peso">
    </label>

    <p>
        Biotipo:
        <strong id="biotipo">—</strong>
    </p>

    <p>
        Deslocamento:
        <strong id="casas">—</strong> casas
    </p>
</section>

<hr>

<!-- ========================= -->
<!-- CATEGORIA -->
<!-- ========================= -->
<section id="categoria">
    <h2>Categoria do Jogador</h2>

    <label>
        Categoria:
        <select id="categoria-select">
            <option value="">Teste Livre</option>
            <option value="base">Base (9 pts)</option>
            <option value="reserva">Reserva (11 pts)</option>
            <option value="titular">Titular Regular (14 pts)</option>
            <option value="destaque">Destaque do Time (17 pts)</option>
            <option value="selecao">Seleção (25 pts)</option>
            <option value="top10">Top 10 do Mundo (30 pts)</option>
            <option value="melhor">Melhor do Mundo (40 pts)</option>
        </select>
    </label>

    <p>
        Pontos disponíveis:
        <strong id="pontos-disponiveis">—</strong>
    </p>
</section>

<hr>

<!-- ========================= -->
<!-- ATRIBUTOS -->
<!-- ========================= -->
<section id="atributos">
    <h2>Atributos</h2>

    <div>
        <label>Agilidade:
            <input type="number" id="agilidade" min="0" value="0">
        </label>
        <span id="agilidade-dado">d30 + 0</span>
    </div>

    <div>
        <label>Tático:
            <input type="number" id="tatico" min="0" value="0">
        </label>
        <span id="tatico-dado">d30 + 0</span>
    </div>

    <div>
        <label>Força:
            <input type="number" id="forca" min="0" value="0">
        </label>
        <span id="forca-dado">d30 + 0</span>
    </div>

    <div>
        <label>Finalização:
            <input type="number" id="finalizacao" min="0" value="0">
        </label>
        <span id="finalizacao-dado">d30 + 0</span>
    </div>

    <div>
        <label>Defesa:
            <input type="number" id="defesa" min="0" value="0">
        </label>
        <span id="defesa-dado">d30 + 0</span>
    </div>

    <div>
        <label>Interceptação:
            <input type="number" id="interceptacao" min="0" value="0">
        </label>
        <span id="interceptacao-dado">d30 + 0</span>
    </div>
</section>

<hr>

<!-- ========================= -->
<!-- BADGES -->
<!-- ========================= -->
<section id="badges">
    <h2>Badges</h2>
    <div id="grid-badges"></div>
</section>

<hr>

<p>
    Pontos usados:
    <strong id="pontos-usados">0</strong>
</p>

<p>
    <label for="pontos-restantes">Pontos restantes:</label>
    <strong id="pontos-restantes" aria-live="polite">—</strong>
</p>

<!-- ========================= -->
<!-- PASSIVAS (novo bloco) -->
<!-- ========================= -->
<section id="passivas">
    <h2>Passivas</h2>
    <p>Digite aqui as passivas do jogador (habilidades passivas, notas, talentos etc.). Use o botão "Salvar" para manter entre sessões no navegador.</p>
    <textarea id="passivas-text" placeholder="Ex: +1 a leitura de jogo; Recupera 1 ponto de energia por turno..."></textarea>
    <div class="passivas-actions">
        <button id="passivas-save">Salvar</button>
        <button id="passivas-clear">Limpar</button>
        <button id="export-pdf-btn">Exportar Cartão (PNG)</button>
        <span id="passivas-status" aria-live="polite"></span>
    </div>
</section>

</div> <!-- fim #ficha -->


<!-- ========================= -->
<!-- SCRIPTS -->
<!-- ========================= -->
<script src="ligas.js"></script>
<script src="badges.js"></script>
<!-- libs necessárias para geração de PDF -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<!-- (opcional) html2pdf bundle - mantido apenas como fallback -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.3/html2pdf.bundle.min.js"></script>
<script src="script.js"></script>

</body>
</html>